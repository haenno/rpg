<!doctype html>
{% load static %}
<html lang="de">
<head>
{% block html_head %} 
{% endblock %}
<link href="/static/favicon.ico" rel="icon" type="image/x-icon" />

<meta charset="utf-8">

<meta name="viewport" content="width=device-width, initial-scale=1">
<!--
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
-->
<title>RPG-Adventure</title>
</head>

<body>
<h1>Game...</h1>
{% block content %} 
{% endblock %}

<br />
<a href="/">zur√ºck</a>
<br />


<!-- Start Counter Test -->
<!--<input id="wmtc_submit" type="button" value="+">-->
<a href="#"  alt="Click me!"><img src={% static "img/image_test.png" %} width="100" id="wmtc_submit"></a> <b id="wmtv_test_element"></b>
<script>
document.querySelector('#wmtc_submit').onclick = function (e) {
wmtc_socket.send(JSON.stringify({'msg': 'add_one',}));
};

function send_wmtc_msg(e) { var wmtc_textarea = document.getElementById('wmtv_test_element'); }

setInterval(function(){
var wmtc_textarea = document.getElementById('wmtv_test_element');
wmtc_textarea.scrollTop = wmtc_textarea.scrollHeight;
wmtc_socket.send(JSON.stringify({'msg': 'alive',}));
}, 250);

var wmtc_loc = window.location;
var wmtc_ws_prot = 'ws://';
if (wmtc_loc.protocol == 'https:') { wmtc_ws_prot = 'wss://' }

const wmtc_socket = new WebSocket(wmtc_ws_prot + window.location.host + '/ws/wmtc/');

wmtc_socket.onmessage = function (e) {
const data = JSON.parse(e.data);
console.log(data)
document.querySelector('#wmtv_test_element').innerHTML = (data.msg)
}
</script>
<!-- End Counter Test -->


</body>
</html>
